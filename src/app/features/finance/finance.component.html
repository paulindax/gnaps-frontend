<!-- Check if we're on a nested route (bills) -->
<router-outlet></router-outlet>

<!-- Show tabs only if we're on the main finance page with Enhanced Rose Theme -->
@if (router.url === '/finance') {
  <div class="min-h-screen bg-linear-to-br from-background via-background to-muted/30">
    <div class="w-full px-4 py-6 sm:px-6 lg:px-8">
      <!-- Page Header -->
      <div class="mb-6 lg:mb-8">
        <div class="overflow-hidden rounded-2xl border-2 border-border/50 bg-card shadow-md">
          <div class="px-6 py-8 sm:px-8 sm:py-10 lg:px-10 lg:py-12">
            <div class="flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between">
              <div class="flex items-center gap-4">
                <div class="flex h-16 w-16 shrink-0 items-center justify-center rounded-full bg-muted">
                  <span class="text-3xl">ðŸ’°</span>
                </div>
                <div>
                  <h1 class="text-3xl font-bold text-foreground lg:text-4xl tracking-tight">
                    Finance Management
                  </h1>
                  <p class="mt-2 text-base text-muted-foreground lg:text-lg">
                    Manage finance accounts, bill particulars, and bills
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Tabs with Rose Theme -->
      <div class="rounded-2xl border-2 border-border/50 bg-card shadow-sm overflow-hidden">
        <!-- Tab Navigation -->
        <div class="border-b-2 border-border/50 bg-muted/30">
          <nav class="flex -mb-px overflow-x-auto px-2">
            <button
              (click)="setActiveTab('account')"
              [class.border-rose-600]="activeTab() === 'account'"
              [class.text-rose-600]="activeTab() === 'account'"
              [class.dark:text-rose-400]="activeTab() === 'account'"
              [class.bg-background/80]="activeTab() === 'account'"
              [class.border-transparent]="activeTab() !== 'account'"
              [class.text-muted-foreground]="activeTab() !== 'account'"
              [class.hover:text-foreground]="activeTab() !== 'account'"
              [class.hover:bg-muted/50]="activeTab() !== 'account'"
              class="flex items-center gap-2 px-6 py-4 border-b-2 font-semibold text-base whitespace-nowrap transition-all"
            >
              <span class="text-xl">ðŸ’°</span>
              Finance Accounts
            </button>
            <button
              (click)="setActiveTab('particulars')"
              [class.border-rose-600]="activeTab() === 'particulars'"
              [class.text-rose-600]="activeTab() === 'particulars'"
              [class.dark:text-rose-400]="activeTab() === 'particulars'"
              [class.bg-background/80]="activeTab() === 'particulars'"
              [class.border-transparent]="activeTab() !== 'particulars'"
              [class.text-muted-foreground]="activeTab() !== 'particulars'"
              [class.hover:text-foreground]="activeTab() !== 'particulars'"
              [class.hover:bg-muted/50]="activeTab() !== 'particulars'"
              class="flex items-center gap-2 px-6 py-4 border-b-2 font-semibold text-base whitespace-nowrap transition-all"
            >
              <span class="text-xl">ðŸ“‹</span>
              Bill Particulars
            </button>
            <button
              (click)="setActiveTab('bills')"
              [class.border-rose-600]="activeTab() === 'bills'"
              [class.text-rose-600]="activeTab() === 'bills'"
              [class.dark:text-rose-400]="activeTab() === 'bills'"
              [class.bg-background/80]="activeTab() === 'bills'"
              [class.border-transparent]="activeTab() !== 'bills'"
              [class.text-muted-foreground]="activeTab() !== 'bills'"
              [class.hover:text-foreground]="activeTab() !== 'bills'"
              [class.hover:bg-muted/50]="activeTab() !== 'bills'"
              class="flex items-center gap-2 px-6 py-4 border-b-2 font-semibold text-base whitespace-nowrap transition-all"
            >
              <span class="text-xl">ðŸ“„</span>
              Manage Bills
            </button>
          </nav>
        </div>

        <!-- Tab Content -->
        <div class="p-6 sm:p-8">
          @if (activeTab() === 'account') {
            <app-finance-account />
          } @else if (activeTab() === 'particulars') {
            <app-bill-particulars />
          } @else if (activeTab() === 'bills') {
            <app-manage-bill />
          }
        </div>
      </div>
    </div>
  </div>
}
