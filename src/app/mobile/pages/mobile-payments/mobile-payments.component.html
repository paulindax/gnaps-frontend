<div class="payments-page">
  <!-- Back Button -->
  <button (click)="goBack()" class="back-btn">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
      <path fill-rule="evenodd" d="M7.72 12.53a.75.75 0 010-1.06l7.5-7.5a.75.75 0 111.06 1.06L9.31 12l6.97 6.97a.75.75 0 11-1.06 1.06l-7.5-7.5z" clip-rule="evenodd" />
    </svg>
    Back
  </button>

  <!-- Page Header -->
  <div class="page-header">
    <h1 class="page-title">Payment History</h1>
  </div>

  @if (loading()) {
    <div class="skeleton-list">
      @for (i of [1, 2, 3]; track i) {
        <div class="skeleton-card"></div>
      }
    </div>
  } @else if (payments().length === 0) {
    <div class="empty-state">
      <div class="empty-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
          <path d="M4.5 3.75a3 3 0 00-3 3v.75h21v-.75a3 3 0 00-3-3h-15z" />
          <path fill-rule="evenodd" d="M22.5 9.75h-21v7.5a3 3 0 003 3h15a3 3 0 003-3v-7.5zm-18 3.75a.75.75 0 01.75-.75h6a.75.75 0 010 1.5h-6a.75.75 0 01-.75-.75zm.75 2.25a.75.75 0 000 1.5h3a.75.75 0 000-1.5h-3z" clip-rule="evenodd" />
        </svg>
      </div>
      <h3 class="empty-title">No payments yet</h3>
      <p class="empty-text">Your payment history will appear here</p>
    </div>
  } @else {
    <div class="payments-list">
      @for (payment of payments(); track payment.id) {
        <div class="payment-card">
          <div class="payment-icon" [class.completed]="payment.status === 'completed'" [class.pending]="payment.status !== 'completed'">
            @if (payment.status === 'completed') {
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                <path fill-rule="evenodd" d="M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12zm13.36-1.814a.75.75 0 10-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 00-1.06 1.06l2.25 2.25a.75.75 0 001.14-.094l3.75-5.25z" clip-rule="evenodd" />
              </svg>
            } @else {
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                <path fill-rule="evenodd" d="M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25zM12.75 6a.75.75 0 00-1.5 0v6c0 .414.336.75.75.75h4.5a.75.75 0 000-1.5h-3.75V6z" clip-rule="evenodd" />
              </svg>
            }
          </div>
          <div class="payment-info">
            <h3 class="payment-title">{{ payment.description || 'Payment' }}</h3>
            <p class="payment-date">{{ formatDate(payment.created_at) }}</p>
          </div>
          <div class="payment-amount-container">
            <p class="payment-amount">GHS {{ payment.amount }}</p>
            <span class="payment-status" [class.completed]="payment.status === 'completed'" [class.pending]="payment.status !== 'completed'">
              {{ payment.status }}
            </span>
          </div>
        </div>
      }
    </div>
  }
</div>
