<!-- Enhanced Professional Side Navigation -->
<nav [class]="baseClass()">
  <!-- User Profile Summary (Expanded) -->
  <!-- @if (!layoutService.sidebarCollapsed()) {
    <div class="border-b-2 border-gray-200 dark:border-gray-600 p-5 bg-linear-to-r from-primary/5 to-primary/10 dark:from-primary/10 dark:to-primary/20">
      <div class="flex items-center gap-3">
        <div class="flex h-12 w-12 shrink-0 items-center justify-center rounded-full bg-linear-to-br from-primary to-primary/80 shadow-md ring-2 ring-primary/20">
          <span class="text-lg font-bold text-white">
            {{ user()?.first_name?.[0] }}{{ user()?.last_name?.[0] }}
          </span>
        </div>
        <div class="flex-1 min-w-0">
          <p class="text-sm font-bold text-gray-900 dark:text-gray-100 truncate">
            {{ user()?.first_name }} {{ user()?.last_name }}
          </p>
          <p class="text-xs text-gray-600 dark:text-gray-400 truncate">
            {{ roleDisplay() }}
          </p>
        </div>
      </div>
    </div>
  } -->

  <!-- User Profile Icon (Collapsed) -->
  <!-- @if (layoutService.sidebarCollapsed()) {
    <div class="border-b-2 border-gray-200 dark:border-gray-600 p-4 flex justify-center bg-linear-to-r from-primary/5 to-primary/10 dark:from-primary/10 dark:to-primary/20">
      <div class="flex h-10 w-10 items-center justify-center rounded-full bg-linear-to-br from-primary to-primary/80 shadow-md ring-2 ring-primary/20">
        <span class="text-sm font-bold text-white">
          {{ user()?.first_name?.[0] }}{{ user()?.last_name?.[0] }}
        </span>
      </div>
    </div>
  } -->

  <!-- Navigation Sections -->
  <div class="mt-4 flex-1 space-y-6 overflow-y-auto px-2 sm:mt-6 sm:px-3 scrollbar-thin scrollbar-thumb-gray-300 dark:scrollbar-thumb-gray-600">
    @for (section of navSections(); track section.title) {
      <div>
        <!-- Section Header -->
        @if (!layoutService.sidebarCollapsed()) {
          <h3 class="mb-3 px-4 text-xs font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wider">
            {{ section.title }}
          </h3>
        }

        <!-- Section Divider (Collapsed) -->
        @if (layoutService.sidebarCollapsed() && section.title !== navSections()[0].title) {
          <div class="my-4 mx-2 border-t-2 border-gray-200 dark:border-gray-600"></div>
        }

        <!-- Navigation Items -->
        <div class="space-y-2">
          @for (item of section.items; track item.route) {
            <app-nav-item [item]="item" (navigate)="onNavigate()" />
          }
        </div>
      </div>
    }
  </div>

  <!-- Collapse Toggle -->
  <div class="border-t-2 border-gray-200 dark:border-gray-600 p-4 sm:p-5 bg-gray-50/50 dark:bg-gray-900/20">
    <app-button-helm
      variant="ghost"
      size="icon"
      class="w-full justify-center hover:bg-primary/10 transition-all"
      (click)="layoutService.toggleSidebar()"
      [title]="layoutService.sidebarCollapsed() ? 'Expand sidebar' : 'Collapse sidebar'"
    >
      <svg class="h-6 w-6 transition-transform duration-300 text-gray-600 dark:text-gray-400"
           [class.rotate-180]="layoutService.sidebarCollapsed()"
           fill="none"
           viewBox="0 0 24 24"
           stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 19l-7-7 7-7m8 14l-7-7 7-7" />
      </svg>
    </app-button-helm>

    <!-- Collapse/Expand Label -->
    @if (!layoutService.sidebarCollapsed()) {
      <p class="mt-2 text-center text-xs text-gray-500 dark:text-gray-400">
        Collapse
      </p>
    }
  </div>
</nav>
